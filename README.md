# ZeroFlask2025

Этот проект представляет собой приложение, состоящее из следующих компонентов:
1. **Flask-сервер** — для обработки запросов, управления пользователями и синхронизации данных.
2. **Tkinter-приложение** — настольное приложение для пользователей, реализующее функционал кликера.
3. **Telegram-бот** — для взаимодействия пользователей с сервером через Telegram.

---

## Структура проекта

```
ZeroFlask2025/
├── bot/                   # Telegram-бот
│   ├── main.py            # Логика работы бота
├── flask_server/          # Серверная часть на Flask
│   ├── instance/          # Конфиденциальные данные (например, конфигурации)
│   ├── flask_app.py       # Основное приложение Flask
│   ├── models.py          # Модели базы данных
│   ├── routes.py          # Роуты для API
│   ├── run.py             # Точка запуска сервера
├── tkinter_app/           # Настольное приложение на Tkinter
│   ├── t_app.py           # Основной код Tkinter-приложения
├── .gitignore             # Список файлов и папок, игнорируемых Git
├── requirements.txt       # Список зависимостей Python
└── README.md              # Документация проекта
```

---

## Установка и запуск

### 1. Клонирование репозитория
Склонируйте проект с помощью Git:
```
git clone https://github.com/your-repository/ZeroFlask2025.git
cd ZeroFlask2025
```

### 2. Создание виртуального окружения
Создайте виртуальное окружение и активируйте его:
```
python -m venv venv
source venv/bin/activate      # Для Linux/Mac
venv\\Scripts\\activate         # Для Windows
```

### 3. Установка зависимостей
Установите необходимые зависимости:
```
pip install -r requirements.txt
```

### 4. Настройка сервера
В папке `flask_server/` создайте папку `instance/` и добавьте файл `config.py` для конфиденциальных данных:
```
# instance/config.py
SECRET_KEY = 'your_secret_key'
SQLALCHEMY_DATABASE_URI = 'sqlite:///clicker.db'
SQLALCHEMY_TRACK_MODIFICATIONS = False
```

Запустите сервер:
```
cd flask_server
python run.py
```

### 5. Настройте Telegram-бота
Откройте папку `bot/` и найдите `main.py`
Укажите токен вашего бота в строке:
```
BOT_TOKEN = "ваш токен бота"
```

Запускаем Telegram-бот:
```
cd ../bot
python main.py
```

### 6. Запуск Tkinter-приложения
Перейдите в папку `tkinter_app/` и запустите приложение:
```
cd ../tkinter_app
python t_app.py
```

---

## Описание компонентов

### Flask-сервер
Обрабатывает следующие запросы:
- **`/register_user`**: Регистрация пользователя.
- **`/login_user`**: Авторизация пользователя.
- **`/reset_password`**: Генерация токена для сброса пароля.
- **`/set_new_password`**: Установка нового пароля.
- **`/show_user_info/<telegram_id>`**: Получение информации о пользователе.
- **`/sync_clicks`**: Синхронизация кликов.
- **`/get_leaders`**: Получение таблицы лидеров.
- **`/check_user/<telegram_id>`**: Проверка существования пользователя.

### Telegram-бот
Позволяет взаимодействовать с сервером через Telegram. Пользователи могут:
- Зарегистрироваться.
- Сбросить пароль.
- Посмотреть информацию о себе.
- Узнать текущую таблицу лидеров.

### Tkinter-приложение
- **Авторизация**: Пользователь вводит никнейм и пароль.
- **Кликер**: Пользователь нажимает кнопку, увеличивая локальный счетчик кликов.
- **Синхронизация**: Локальные клики отправляются на сервер каждые 5 секунд.

---

## Зависимости
- Flask
- Flask-SQLAlchemy
- Flask-Bcrypt
- Flask-RESTful
- PyTelegramBotAPI
- Tkinter (встроен в стандартную библиотеку Python)

---

## Лицензия
Проект распространяется под лицензией MIT.
